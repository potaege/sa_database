generator client {
  provider = "prisma-client-js"
}

datasource easy_service {
  provider     = "postgresql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model AdditionalCosts {
  id          Int      @id @default(autoincrement())
  description String   @easy_service.VarChar(100)
  cost        Float
  addDate     DateTime @default(now())
  workID      Int      @unique
}

model Customers {
  id           Int      @id @default(autoincrement())
  name         String   @easy_service.VarChar(30)
  credit_limit Float
  address      String?  @easy_service.VarChar(50)
  tax_id       String?  @easy_service.VarChar(15)
  tel          String   @easy_service.VarChar(12)
  province     String   @easy_service.VarChar(20)
  addDate      DateTime @default(now())
}

model Requests {
  id       Int      @id @default(autoincrement())
  model    String   @easy_service.VarChar(20)
  sn       String   @easy_service.VarChar(20)
  rated    String?  @easy_service.VarChar(10)
  warranty Boolean
  addDate  DateTime @default(now())
  workID   Int

  @@index([workID])
}

model Spare_parts {
  id          Int      @id @default(autoincrement())
  name        String   @unique @easy_service.VarChar(40)
  description String?  @easy_service.VarChar(100)
  price       Float
  addDate     DateTime @default(now())
  unit        String   @easy_service.VarChar(15)
}

model Spare_parts_engineers {
  id            Int      @id @default(autoincrement())
  spare_part_id Int      @unique
  quantity      Int
  addDate       DateTime @default(now())
  user_id       Int      @unique
}

model Spare_parts_requests {
  id              Int      @id @default(autoincrement())
  spare_parts_qty Int
  sparePartID     Int      @unique
  description     String   @easy_service.VarChar(100)
  sn              String?  @easy_service.VarChar(20)
  requestID       Int      @unique
  addDate         DateTime @default(now())
}

model Transaction_logs {
  id          Int      @id @default(autoincrement())
  quantity    Int
  status      Int      @default(0)
  sparePartID Int      @unique
  userID      Int      @unique
  fromUserID  Int      @unique
  addDate     DateTime @default(now())
}

model Users {
  id       Int      @id @default(autoincrement())
  username String   @unique @easy_service.VarChar(20)
  password String   @easy_service.VarChar(70)
  name     String   @easy_service.VarChar(20)
  surname  String   @easy_service.VarChar(20)
  address  String?  @easy_service.VarChar(50)
  province String   @easy_service.VarChar(20)
  role     String   @easy_service.VarChar(20)
  addDate  DateTime @default(now())
  salt     String   @easy_service.VarChar(16)
}

model Works {
  mail_date    DateTime  @default(now())
  status       Int       @default(0)
  userID       Int?      @unique
  customerID   Int       @unique
  address      String    @easy_service.VarChar(50)
  province     String    @easy_service.VarChar(20)
  addDate      DateTime  @default(now())
  id           Int       @id
  service_date DateTime?
}
